<!DOCTYPE html>
<html ng-app="ov.portal" ng-controller="MainController" ng-strict-di>
  <head>
    <title ng-bind="title | translate"></title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {{=[[ ]]=}}

    [[#css]]
    <link rel="stylesheet" type="text/css" href="[[.]]">
    [[/css]]

    <script>
      var languages = [ [[& languages]] ];
    </script>
  </head>

  <body>
    <header></header>
    <div ng-view ng-cloak></div>

    [[#librariesScripts]]
    <script type="text/javascript" src="[[.]]"></script>
    [[/librariesScripts]]

    <script>
      var languageCode = navigator.language || navigator.browserLanguage;
      languageCode = languages.indexOf(languageCode) > -1 ? languageCode : languages[0];
      document.write('\x3Cscript type="text/javascript" src="/lib/angular-i18n/angular-locale_' + languageCode + '.js">\x3C/script>');
      document.write('\x3Cscript type="text/javascript" src="/themes/[[theme]]/i18n/openveo-portal-locale_' + languageCode + '.js">\x3C/script>');
      document.write('\x3Cscript type="text/javascript" src="/themes/[[theme]]/conf.js">\x3C/script>');
    </script>

    [[#scripts]]
    <script type="text/javascript" src="[[.]]"></script>
    [[/scripts]]

  </body>
  [[={{ }}=]]
</html>
